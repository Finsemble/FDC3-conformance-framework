<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="index.css" />
</head>

<body>
  <p>Conformance Framework Mock App</p>
  <p>This app is only used by the conformance framework for test purposes</p>
  <p></p>
  <p id="context"></p>
  <script src="lib/mock-functions.js"></script>
  <script src="channelService.js"></script>
  <script>
    onFdc3Ready().then(() => {
      let firedOnce = false;

      //await commands from App A, then execute commands
      window.fdc3.addContextListener(
        "channelsAppContext",
        (context) => {
          if (firedOnce === false) {
            firedOnce = true;
            const commandExecutor = new Fdc3CommandExecutor();
            commandExecutor.executeCommands(context.commands, context.config);
          }
        });
    });
  </script>
</body>

</html>